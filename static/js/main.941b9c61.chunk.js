(this["webpackJsonplarge-scale-solutions-ts-react-redux"]=this["webpackJsonplarge-scale-solutions-ts-react-redux"]||[]).push([[0],{50:function(e,t,a){e.exports=a(81)},55:function(e,t,a){},56:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(23),i=a.n(c),s=(a(55),a(56),a(18)),m=a(11),l=a(42),u=a(44),d=a(7),p="[state] set state from localStorage",v="[item] get list items from DB ",f="[item] set list items in store ",b="[item] set current item in store",y="[item] set status for item in list items",h="[item] set status for item in removed list items",I="[item] set remove data for item",g="[item] set recover data for item",O="[item] remove item from list items",j="[item] remove item from removed list items",x="[item] concat item to list items",E="[item] concat item to removed list items",w="[path] set base path in store",k="[description] get description current item from DB",L="[description] set description current item in store",C="[getFailure] Get failure",D=function(e){return{type:C,payload:e}},N={listItems:[{}],removedListItems:[],descriptionItem:{},currentItem:{},basePath:""},P=Object(m.combineReducers)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)({},t.payload);case f:return Object(d.a)({},e,{listItems:t.payload});case b:return Object(d.a)({},e,{currentItem:t.payload});case y:var a=e.listItems.map((function(e){return e.id===t.payload&&(e.removed=!0),e}));return Object(d.a)({},e,{listItems:a});case h:var r=e.removedListItems.map((function(e){return e.id===t.payload&&(e.removed=!1),e}));return Object(d.a)({},e,{removedListItems:r});case I:var n=e.listItems.map((function(e){return e.id===t.payload.itemId&&(e.removedData=t.payload.data),e}));return Object(d.a)({},e,{listItems:n});case g:var o=e.removedListItems.map((function(e){return e.id===t.payload.itemId&&(e.recoveredData=t.payload.data),e}));return Object(d.a)({},e,{removedListItems:o});case O:var c=e.listItems.filter((function(e){return e.id!==t.payload}));return Object(d.a)({},e,{listItems:c});case j:var i=e.removedListItems.filter((function(e){return e.id!==t.payload}));return Object(d.a)({},e,{removedListItems:i});case x:var s=e.listItems.concat(t.payload).sort((function(e,t){return e.name&&t.name?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:0}));return Object(d.a)({},e,{listItems:s});case E:var m=e.removedListItems.concat(t.payload).sort((function(e,t){return e.name&&t.name?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:0}));return Object(d.a)({},e,{removedListItems:m});case w:return Object(d.a)({},e,{basePath:t.payload});case L:return Object(d.a)({},e,{descriptionItem:t.payload});default:return e}}}),_=a(10),F=a.n(_),S=a(6),B=a(30),J=a(43),W=a(63),M=function e(){Object(J.a)(this,e)};M.getListItemsFromDB=Object(B.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("https://mrsoft.by/tz20/list.json");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),M.getDescriptionCurrentItemFromDB=function(){var e=Object(B.a)(F.a.mark((function e(t,a){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("".concat(t).concat(a));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),function(e){e.loading="loading",e.loaded="loaded",e.notFound="notFound",e.error="error"}(r||(r={}));var T="[loading] set list items loading state",z="[loading] set description item loading state",G=function(e){return{type:T,payload:e}},R=function(e){return{type:z,payload:e}},$=F.a.mark(H),q=F.a.mark(K),A=F.a.mark(Q);function H(e){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.a)(G(r.loading));case 3:return e.next=5,M.getListItemsFromDB();case 5:if(!(t=e.sent).data.length||!t.data[0].id){e.next=17;break}return e.next=9,t.data.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}));case 9:return e.next=11,Object(S.a)((n=t.data,{type:f,payload:n}));case 11:return e.next=13,Object(S.a)((a=t.basepath,{type:w,payload:a}));case 13:return e.next=15,Object(S.a)(G(r.loaded));case 15:e.next=19;break;case 17:return e.next=19,Object(S.a)(G(r.notFound));case 19:e.next=27;break;case 21:return e.prev=21,e.t0=e.catch(0),e.next=25,Object(S.a)(G(r.error));case 25:return e.next=27,Object(S.a)(D(e.t0));case 27:case"end":return e.stop()}var a,n}),$,null,[[0,21]])}function K(e){var t;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(S.a)(R(r.loading));case 3:return a.next=5,M.getDescriptionCurrentItemFromDB(e.payload.basePath,e.payload.userLink);case 5:if(!(t=a.sent).id){a.next=13;break}return a.next=9,Object(S.a)({type:L,payload:t});case 9:return a.next=11,Object(S.a)(R(r.loaded));case 11:a.next=15;break;case 13:return a.next=15,Object(S.a)(R(r.notFound));case 15:a.next=23;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(S.a)(R(r.error));case 21:return a.next=23,Object(S.a)(D(a.t0));case 23:case"end":return a.stop()}}),q,null,[[0,17]])}function Q(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(v,H);case 2:return e.next=4,Object(S.b)(k,K);case 4:case"end":return e.stop()}}),A)}var U=a(96),V=a(93),X=function(e){var t=e.item,a=e.basePath,r=e.dispatch,c=e.className;Object(n.useEffect)((function(){console.log("hi")}),[t]);var i=function(e){var a;e?(r(function(e){return{type:h,payload:e}}(t.id)),r(function(e,t){return{type:g,payload:{itemId:e,data:t}}}(t.id,(new Date).toString().slice(0,24))),r(function(e){return{type:j,payload:e}}(t.id)),r(function(e){return{type:x,payload:e}}(t))):(r((a=t.id,{type:y,payload:a})),r(function(e,t){return{type:I,payload:{itemId:e,data:t}}}(t.id,(new Date).toString().slice(0,24))),r(function(e){return{type:O,payload:e}}(t.id)),r(function(e){return{type:E,payload:e}}(t)))};return o.a.createElement("li",{className:"".concat(c," cardItemContainer")},o.a.createElement("div",{className:"cardItemContainer_info",onClick:function(){return!t.removed&&r(function(e,t){return{type:k,payload:{basePath:e,userLink:t}}}(a,t.more))&&r(function(e){return{type:b,payload:e}}(t))}},o.a.createElement("p",null," ","name: ".concat(t.name)," "),o.a.createElement("p",null," ","info: ".concat(t.shortInfo)," "),o.a.createElement("p",null,void 0!==t.removed&&!t.removed&&"recover data: ".concat(t.recoveredData)||t.removed&&"remove data: ".concat(t.removedData)||void 0===t.removed&&"haven't taken action yet")),o.a.createElement("div",{className:"cardItemContainer_remove"},o.a.createElement("input",{type:"checkbox",onChange:function(){return i(t.removed||!1)},checked:t.removed||!1})))},Y=Object(s.b)((function(e){return{state:e.item,listItems:e.item.listItems,removedListItems:e.item.removedListItems,descriptionItem:e.item.descriptionItem,basePath:e.item.basePath}}))((function(e){var t=e.state,a=e.listItems,r=e.removedListItems,c=(e.descriptionItem,e.basePath),i=e.dispatch;return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("state")||'{"empty": "state"}');e.empty?i({type:v}):i(function(e){return{type:p,payload:e}}(e))}),[i]),Object(n.useEffect)((function(){localStorage.setItem("state",JSON.stringify(t))}),[t]),o.a.createElement(o.a.Fragment,null,!1,o.a.createElement(V.a,{component:"div",display:"grid",className:"listItemsContainer"},o.a.createElement(U.a,{className:"listItemsContainer_list"},a&&a.length>0&&a[0].id&&a.concat(r).map((function(e){return!e.removed&&o.a.createElement(X,{item:e,basePath:c,dispatch:i,key:e.id,className:"active_cart_item"})||e.removed&&o.a.createElement(X,{item:e,basePath:c,dispatch:i,key:e.id,className:"remove_cart_item"})})))),!1,!1)})),Z=a(95),ee=Object(s.b)((function(e){return{listItems:e.item.listItems,descriptionItem:e.item.descriptionItem,currentItem:e.item.currentItem,basePath:e.item.basePath}}))((function(e){var t=e.listItems,a=e.descriptionItem,r=e.currentItem,c=e.basePath;e.dispatch;return Object(n.useEffect)((function(){}),[r.removed,t]),o.a.createElement(o.a.Fragment,null,!1,!a.id&&o.a.createElement("h3",null,"Choose item!")||a&&r.removed&&o.a.createElement("h3",null,"This item had removed, choose another!")||a&&!r.removed&&o.a.createElement(V.a,{component:"div",display:"grid",className:"descriptionItemContainer"},o.a.createElement(V.a,{component:"div",display:"grid",className:"descriptionItemContainer_name_and_avatar"},o.a.createElement(Z.a,{alt:"Cat",src:"".concat(c).concat(a.pic),className:"descriptionItemContainer_avatar"}),o.a.createElement("h4",null,r.name),o.a.createElement("p",null,r.shortInfo)),o.a.createElement(V.a,{component:"div",display:"grid",className:"descriptionItemContainer_bio"}," ",a.bio)),!1,!1)})),te=Object(u.a)(),ae=Object(m.createStore)(P,Object(l.composeWithDevTools)({trace:!0,traceLimit:25})(Object(m.applyMiddleware)(te)));te.run(Q);var re=function(){return o.a.createElement(s.a,{store:ae},o.a.createElement(V.a,{component:"div",className:"wrapper"},o.a.createElement(Y,null),o.a.createElement(ee,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.941b9c61.chunk.js.map