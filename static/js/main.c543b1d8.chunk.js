(this["webpackJsonpamazing-cats"]=this["webpackJsonpamazing-cats"]||[]).push([[0],{60:function(e,t,a){e.exports=a(91)},65:function(e,t,a){},66:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),i=a(17),c=a.n(i),s=(a(65),a(66),a(24)),m=a(18),d=a(51),u=a(53),l=a(14),p="[state] set state from localStorage",v="[item] get list items from DB ",f="[item] set list items in store ",b="[item] set current item in store",h="[item] set status for item in list items",y="[item] set status for item in removed list items",I="[item] set remove data for item",g="[item] set recover data for item",O="[item] remove item from list items",j="[item] remove item from removed list items",E="[item] concat item to list items",x="[item] concat item to removed list items",w="[path] set base path in store",C="[description] get description current item from DB",L="[description] set description current item in store",k="[getFailure] Get failure",_=function(e){return{type:b,payload:e}},N=function(e){return{type:k,payload:e}},D={listItems:[{}],removedListItems:[],descriptionItem:{},currentItem:{},basePath:""},P=Object(m.combineReducers)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(l.a)({},t.payload);case f:return Object(l.a)({},e,{listItems:t.payload});case b:return Object(l.a)({},e,{currentItem:t.payload});case h:var a=e.listItems.map((function(e){return e.id===t.payload&&(e.removed=!0),e}));return Object(l.a)({},e,{listItems:a});case y:var r=e.removedListItems.map((function(e){return e.id===t.payload&&(e.removed=!1),e}));return Object(l.a)({},e,{removedListItems:r});case I:var n=e.listItems.map((function(e){return e.id===t.payload.itemId&&(e.removedData=t.payload.data),e}));return Object(l.a)({},e,{listItems:n});case g:var o=e.removedListItems.map((function(e){return e.id===t.payload.itemId&&(e.recoveredData=t.payload.data),e}));return Object(l.a)({},e,{removedListItems:o});case O:var i=e.listItems.filter((function(e){return e.id!==t.payload}));return Object(l.a)({},e,{listItems:i});case j:var c=e.removedListItems.filter((function(e){return e.id!==t.payload}));return Object(l.a)({},e,{removedListItems:c});case E:var s=e.listItems.concat(t.payload).sort((function(e,t){return e.name&&t.name?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:0}));return Object(l.a)({},e,{listItems:s});case x:var m=e.removedListItems.concat(t.payload).sort((function(e,t){return e.name&&t.name?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:0}));return Object(l.a)({},e,{removedListItems:m});case w:return Object(l.a)({},e,{basePath:t.payload});case L:return Object(l.a)({},e,{descriptionItem:t.payload});default:return e}}}),B=a(16),F=a.n(B),S=a(11),z=a(39),J=a(52),W=a(73),M=function e(){Object(J.a)(this,e)};M.getListItemsFromDB=Object(z.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("https://amazing-cats.herokuapp.com/tz20/list.json");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),M.getDescriptionCurrentItemFromDB=function(){var e=Object(z.a)(F.a.mark((function e(t,a){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.get("".concat(t).concat(a));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),function(e){e.loading="loading",e.loaded="loaded",e.notFound="notFound",e.error="error"}(r||(r={}));var T="[loading] set list items loading state",G="[loading] set description item loading state",R=function(e){return{type:T,payload:e}},$=function(e){return{type:G,payload:e}},q=F.a.mark(K),A=F.a.mark(Q),H=F.a.mark(U);function K(e){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.a)(R(r.loading));case 3:return e.next=5,M.getListItemsFromDB();case 5:if(!(t=e.sent).data.length||!t.data[0].id){e.next=17;break}return e.next=9,t.data.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}));case 9:return e.next=11,Object(S.a)((n=t.data,{type:f,payload:n}));case 11:return e.next=13,Object(S.a)((a=t.basepath,{type:w,payload:a}));case 13:return e.next=15,Object(S.a)(R(r.loaded));case 15:e.next=19;break;case 17:return e.next=19,Object(S.a)(R(r.notFound));case 19:e.next=27;break;case 21:return e.prev=21,e.t0=e.catch(0),e.next=25,Object(S.a)(R(r.error));case 25:return e.next=27,Object(S.a)(N(e.t0));case 27:case"end":return e.stop()}var a,n}),q,null,[[0,21]])}function Q(e){var t;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(S.a)($(r.loading));case 3:return a.next=5,M.getDescriptionCurrentItemFromDB(e.payload.basePath,e.payload.userLink);case 5:if(!(t=a.sent).id){a.next=13;break}return a.next=9,Object(S.a)({type:L,payload:t});case 9:return a.next=11,Object(S.a)($(r.loaded));case 11:a.next=15;break;case 13:return a.next=15,Object(S.a)($(r.notFound));case 15:a.next=23;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(S.a)($(r.error));case 21:return a.next=23,Object(S.a)(N(a.t0));case 23:case"end":return a.stop()}}),A,null,[[0,17]])}function U(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(v,K);case 2:return e.next=4,Object(S.b)(C,Q);case 4:case"end":return e.stop()}}),H)}var V=a(114),X=a(116),Y=a(120),Z=a(111),ee=a(112),te=a(113),ae=a(117),re=function(e){var t=e.item,a=e.currentItem,r=e.basePath,i=e.dispatch,c=e.className;Object(n.useEffect)((function(){a&&i(_(t))}),[a,i,t.removed]);var s=function(e){var a;e?(i(function(e){return{type:y,payload:e}}(t.id)),i(function(e,t){return{type:g,payload:{itemId:e,data:t}}}(t.id,(new Date).toString().slice(0,24))),i(function(e){return{type:j,payload:e}}(t.id)),i(function(e){return{type:E,payload:e}}(t))):(i((a=t.id,{type:h,payload:a})),i(function(e,t){return{type:I,payload:{itemId:e,data:t}}}(t.id,(new Date).toString().slice(0,24))),i(function(e){return{type:O,payload:e}}(t.id)),i(function(e){return{type:x,payload:e}}(t)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Y.a,{className:"cardItemContainer"},o.a.createElement(Z.a,{variant:"chosen_item"===c?"contained":"text",color:"primary",className:"cardItemContainer_info",disabled:t.removed&&!0,onClick:function(){return!t.removed&&i(function(e,t){return{type:C,payload:{basePath:e,userLink:t}}}(r,t.more))&&i(_(t))}},o.a.createElement(ee.a,{variant:"button"}," ","name: ".concat(t.name)," "),o.a.createElement(ee.a,{variant:"button"},"info: ".concat(t.shortInfo)),o.a.createElement(ee.a,{variant:"overline"},void 0!==t.removed&&(!t.removed&&"recover data: ".concat(t.recoveredData)||t.removed&&"removed data: ".concat(t.removedData))||"haven't taken action yet")),o.a.createElement(X.a,{component:"div",display:"grid",className:"cardItemContainer_remove"},o.a.createElement(ae.a,{onChange:function(){return s(t.removed||!1)},checked:t.removed||!1,color:"primary"}))),o.a.createElement(te.a,{variant:"inset",component:"li"}))},ne=Object(s.b)((function(e){return{state:e.item,listItems:e.item.listItems,removedListItems:e.item.removedListItems,descriptionItem:e.item.descriptionItem,basePath:e.item.basePath}}))((function(e){var t=e.state,a=e.listItems,r=e.removedListItems,i=e.descriptionItem,c=e.basePath,s=e.dispatch;return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("state")||'{"basePath": ""}');e.basePath?s(function(e){return{type:p,payload:e}}(e)):s({type:v})}),[s]),Object(n.useEffect)((function(){localStorage.setItem("state",JSON.stringify(t))}),[t]),o.a.createElement(o.a.Fragment,null,!1,o.a.createElement(X.a,{component:"div",display:"grid",className:"listItemsContainer"},o.a.createElement(V.a,{className:"listItemsContainer_list"},(a.length&&a[0].id||r.length&&r[0].id)&&a.concat(r).map((function(e){return o.a.createElement(re,{item:e,currentItem:i.id===e.id,basePath:c,dispatch:s,key:e.id,className:(e.removed||i.id!==e.id?e.removed&&"removed_cart_item":"chosen_item")||"active_cart_item"})})))),!1,!1)})),oe=a(119),ie=Object(s.b)((function(e){return{listItems:e.item.listItems,descriptionItem:e.item.descriptionItem,currentItem:e.item.currentItem,basePath:e.item.basePath}}))((function(e){e.listItems;var t=e.descriptionItem,a=e.currentItem,r=e.basePath;return o.a.createElement(o.a.Fragment,null,!1,!t.id&&o.a.createElement(ee.a,{variant:"h3",gutterBottom:!0,className:"descriptionItemContainer_choose_item"},"Choose item!")||a.removed&&o.a.createElement(ee.a,{variant:"h3",gutterBottom:!0,className:"descriptionItemContainer_choose_another_item"},"This item had removed, choose another!")||!a.removed&&o.a.createElement(X.a,{component:"div",display:"grid",className:"descriptionItemContainer"},o.a.createElement(X.a,{component:"div",display:"grid",className:"descriptionItemContainer_name_and_avatar"},o.a.createElement(oe.a,{alt:"Cat",src:"".concat(r).concat(t.pic),className:"descriptionItemContainer_avatar"}),o.a.createElement(ee.a,{variant:"h5",gutterBottom:!0},a.name),o.a.createElement(ee.a,{variant:"subtitle1",gutterBottom:!0},a.shortInfo)),o.a.createElement(X.a,{component:"div",display:"grid",className:"descriptionItemContainer_bio"},o.a.createElement(ee.a,{variant:"body1",gutterBottom:!0},t.bio))),!1,!1)})),ce=a(118),se=Object(u.a)(),me=Object(m.createStore)(P,Object(d.composeWithDevTools)({trace:!0,traceLimit:25})(Object(m.applyMiddleware)(se)));se.run(U);var de=function(){return o.a.createElement(s.a,{store:me},o.a.createElement(ce.a,null,o.a.createElement(X.a,{component:"div",className:"wrapper"},o.a.createElement(ne,null),o.a.createElement(ie,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.c543b1d8.chunk.js.map